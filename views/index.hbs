{{#if error}}
  <div class="mb-4 text-red-500 text-center font-medium">
    {{error}}
  </div>
{{/if}}

{{#each data}}
  <div class="card flex flex-col md:flex-row my-10 h-auto w-full mx-auto transition-all duration-500 border-2 border-gray-100 text-white hover:bg-slate-400 rounded-2xl p-2 gap-5">

    <!-- Image Section -->
    <div class="image h-48 md:h-64 w-full md:w-1/3 relative overflow-hidden">
      <div class="slider flex transition-transform duration-500">
        {{#each images}}
          <img src="{{this}}" alt="property image" class="object-cover w-full h-full">
        {{/each}}
      </div>

      <button class="prev-btn absolute left-2 top-1/2 transform -translate-y-1/2 bg-gray-800 text-white px-2 py-1 rounded-md z-10">&lt;</button>
      <button class="next-btn absolute right-2 top-1/2 transform -translate-y-1/2 bg-gray-800 text-white px-2 py-1 rounded-md z-10">&gt;</button>
    </div>

    <!-- Text Content Section -->
    <div class="card-content lg:text-lg font-medium flex flex-col my-3 w-full md:w-2/3">
      <a href="/property/home/{{this.id}}">
        <strong>
          <p>Price:
            {{price}}</p>
        </strong>
        <h2>{{title}}</h2>
        <p>📍{{displayAddress}}</p>
        <p>🛏️ Bedrooms:
          {{bedrooms}}, 🚿 Bathrooms:
          {{bathrooms}}, 📐 Size:
          {{size}}
          sqFt</p>
      </a>
    </div>
  </div>
{{/each}}

<!-- Pagination -->
<div class="pagination flex flex-wrap justify-center items-center gap-2 max-w-full overflow-hidden mx-auto p-2">
  {{#if (gt currentPage 1)}}
    <a href="/general/home?page={{subtract currentPage 1}}">
      <button class="border z-10 hover:text-gray-300 border-gray-300 bg-white text-gray-800 px-4 py-2 rounded-md hover:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:outline-none mx-2">
        Previous
      </button>
    </a>
  {{/if}}

  {{#each (range 1 totalPages)}}
    <a href="/general/home?page={{this}}">
      <button class="border z-10 hover:text-gray-300 border-gray-300 bg-white text-gray-800 px-4 py-2 rounded-md hover:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:outline-none mx-2" {{#if (eq this ../currentPage)}} style="font-weight: bold; background-color: #4a5568; color: white;" {{/if}}>
        {{this}}
      </button>
    </a>
  {{/each}}

  {{#if (lt currentPage totalPages)}}
    <a href="/general/home?page={{add currentPage 1}}">
      <button class="border z-10 hover:text-gray-300 border-gray-300 bg-white text-gray-800 px-4 py-2 rounded-md hover:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:outline-none mx-2">
        Next
      </button>
    </a>
  {{/if}}
</div>
